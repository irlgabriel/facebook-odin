

<div class='m-0 px-0 pt-2 border-bottom border-light position-sticky sticky-top row' style='box-shadow: 1px 2px 11px 0px rgba(211,211,211,1); background-color: white;'>  

  <!-- left (intro and searchbar) -->
  <div class='col-3 d-flex'>
    <%= link_to home_path do %>
      <i class="fab fa-facebook" style='font-size: 40px' >&nbsp;</i>
    <% end %>
    
    <i class="d-flex align-items-center fas fa-search bg-light rounded-circle mb-2" style='font-size: 25px; padding: 0px 5px;'></i>

  </div>

  <!-- middle (fontawesome icons) -->
  <div class='fas-div col-6 d-flex text-dark'>

    <!-- home fa -->
    <% if current_page?(feed_path) %>
      <%= link_to feed_path, class:'fa-div py-2 w-100 text-center blue-border border-3 text-primary' do %>
        <i class="fas fa-house-user"></i>
      <% end %>
      <% else %>
      <%= link_to feed_path, class:'fa-div py-2 w-100 text-center border-3 text-dark' do %>
        <i class="fas fa-house-user"></i>
      <% end %>
    <% end %>


    <!-- friends fa-->
    <% if controller_name == 'friends' %>
      <%= link_to '', data:{toggle:'collapse', target:'#collapse-friends'}, class:'fa-div text-primary blue-border border-3 py-2 w-100 text-center' do %>
       <i class="far fa-user"></i> 
      <% end %>
    <% else %>
      <%= link_to '', data:{toggle:'collapse', target:'#collapse-friends'}, class:'fa-div text-muted border-3 py-2 w-100 text-center' do %>
        <i class="far fa-user"></i>
      <% end %>
    <% end %>

    

    <div class='fa-div py-2 text-center w-100'>
      <i class="fas fa-tv"></i>
    </div>

    <div class='fa-div py-2 text-center w-100'>
      <i class="fas fa-bullhorn"></i>
    </div>

    <div class='fa-div py-2 text-center w-100'>
      <i class="fas fa-bars"></i>
    </div>
  </div>

  <!-- right (profile things) --> 
  <div class='col-3 d-flex justify-content-end position-relative'> <!-- d-flex just for now -->

    <%= link_to '' do %>
      <i class="gray-hover fas fa-plus rounded-circle mx-1" style='background-color: #D8D8D8; padding: 10px; font-size: 20px; color: black;'></i>
    <% end %>

    <%= link_to '' do %>
      <i class="fab fa-facebook-messenger rounded-circle mx-1" style='background-color: #D8D8D8; padding: 10px; font-size: 20px; color: black;'></i>
    <% end %>

    <%= link_to '' do %>
      <i class="fas fa-bell rounded-circle mx-1" style='background-color: #D8D8D8; padding: 10px; font-size: 20px; color: black;'></i>
    <% end %>

    <%= link_to '', data: {toggle: 'collapse', target:'#top-nav-dropdown'} do %>
      <i class="fas fa-caret-down rounded-circle mx-1" style='background-color: #D8D8D8; padding: 10px 12px; font-size: 20px; color: black;'></i>
    <% end %>

    
    <div class='collapse position-absolute bg-white border-radius-10 p-3' id='top-nav-dropdown' style='top:56px;'>
      <div class='gray-hover p-2'>
        <%= link_to 'Log out', destroy_user_session_path, method: :delete, class:'text-dark' %>
      </div>

    </div>

  </div> <!-- ends right top-nav col -->
</div> <!-- ends top-nav div -->

<div id='collapse-friends' class='collapse position-absolute w-25 bg-white border-radius-10 p-4 mt-2' style='z-index: 4343; left: 35%; top: 61px;'>
  <%= link_to friends_find_path, class:'text-muted gray-hover' do %>
    <p class='gray-hover py-2'>Find Friends</p>
  <% end %>
  <%= link_to friends_path, class:'text-muted gray-hover' do %>
    <p class='gray-hover py-2'>Friend requests</p>
  <% end %>
  <%= link_to friends_index_path, class:'text-muted gray-hover' do %>
    <p class='gray-hover py-2'>Your friends</p>
  <% end %>
</div>

<script>

fadivs = document.querySelectorAll('.fa-div');
fadivs.forEach(element => {
    element.addEventListener('click', function() {
        fadivs.forEach(element => {
          element.classList.remove('blue-border');
          element.classList.remove('border-3');
          element.style.color = 'black'
        });
        element.style.color = 'blue';
        element.classList.add('blue-border');
        element.classList.add('border-3');
    });
});
</script>